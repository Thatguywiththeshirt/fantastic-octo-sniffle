<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raspberry Pi Zero 2 W Portable Digital Toolkit</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            line-height: 1.6;
            background-color: #f0f2f5;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 2em 3em;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #1c2e4a;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 8px;
            margin-top: 1.5em;
        }
        h1 {
            font-size: 2em;
            text-align: center;
            border-bottom: 3px solid #0056b3;
        }
        h2 {
            font-size: 1.6em;
        }
        h3 {
            font-size: 1.3em;
            border-bottom: 1px dashed #ccc;
        }
        ul {
            list-style-type: none;
            padding-left: 0;
        }
        li {
            margin-bottom: 1em;
            padding-left: 1.5em;
            position: relative;
        }
        li::before {
            content: '✓';
            color: #28a745;
            font-weight: bold;
            position: absolute;
            left: 0;
            top: 1px;
        }
        ul ul {
            margin-top: 0.5em;
            padding-left: 2em;
        }
        ul ul li::before {
             content: '→';
             color: #007bff;
        }
        code {
            background-color: #e9ecef;
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            border-radius: 3px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        }
        strong {
            color: #0056b3;
        }
        hr {
            border: 0;
            height: 1px;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));
            margin-top: 3em;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Raspberry Pi Zero 2 W Portable Digital Toolkit: Current Summary</h1>

        <h2>Core Device & OS Setup</h2>
        <ul>
            <li><strong>Hardware:</strong> Raspberry Pi Zero 2 W with a USB Dongle Expansion Breakout Module Kit, assorted sensors, and a breadboard.</li>
            <li><strong>Operating System:</strong> Running <strong>Raspberry Pi OS Lite (64-bit)</strong>.</li>
            <li><strong>Headless Configuration:</strong> The Pi was set up headless using the Raspberry Pi Imager, including SSH access (with custom username/password) and initial Wi-Fi credentials.</li>
        </ul>

        <h2>Network Connectivity & Access</h2>
        
        <h3>USB Ethernet Gadget Mode (<code>usb0</code>)</h3>
        <ul>
            <li>The Pi is configured to act as a <strong>USB Ethernet network interface</strong> when connected to your laptop (via modifications to <code>/boot/config.txt</code> and <code>/boot/cmdline.txt</code>).</li>
            <li>We are configuring a <strong>static IP address</strong> for the Pi on this interface (e.g., <code>192.168.7.2/24</code> in <code>/etc/dhcpcd.conf</code>). This ensures consistent direct access from your laptop.</li>
            <li><strong>Note:</strong> The <code>static routers</code> and <code>static domain_name_servers</code> lines are optional for now, as you plan to manage external updates when connected to your home network.</li>
            <li><strong>Troubleshooting:</strong> We identified that <code>dhcpcd5</code> (the DHCP client daemon) needed to be installed on your Pi to ensure the <code>/etc/dhcpcd.conf</code> file was present and correctly managed static IPs.</li>
        </ul>

        <h3>Hidden Wi-Fi Access Point (<code>wlan0</code>)</h3>
        <ul>
            <li>The Pi is configured to <strong>broadcast its own hidden Wi-Fi network</strong> using <code>hostapd</code> and <code>dnsmasq</code>.</li>
            <li>This setup includes a <strong>static IP address</strong> for the Pi's <code>wlan0</code> interface (e.g., <code>192.168.4.1/24</code>).</li>
            <li><strong><code>hostapd.conf</code> Breakdown:</strong> We walked through the settings to create this AP, including:
                <ul>
                    <li><code>interface=wlan0</code>, <code>driver=nl80211</code> (interface and driver)</li>
                    <li><code>country_code=US</code> (regulatory domain)</li>
                    <li><code>ssid=your_ssid</code>, <code>wpa_passphrase=your_password</code> (network name and security key)</li>
                    <li><code>hw_mode=g</code>, <code>channel=11</code>, <code>ieee80211n=1</code> (Wi-Fi standards and channel)</li>
                    <li><code>wpa=2</code>, <code>wpa_key_mgmt=WPA-PSK</code>, <code>rsn_pairwise=CCMP</code> (WPA2 security)</li>
                    <li><code>ignore_broadcast_ssid=1</code> (makes the SSID hidden/silent).</li>
                </ul>
            </li>
            <li><code>dnsmasq</code> provides DHCP services for devices connecting to this hidden AP.</li>
            <li><code>hostapd</code> is enabled as a <code>systemd</code> service for automatic startup on boot.</li>
        </ul>

        <h2>Digital Toolkit Services</h2>
        
        <h3>Local Web Server (Nginx)</h3>
        <ul>
            <li>You have <strong>Nginx</strong> installed, allowing your Pi to host web pages or applications that can be accessed from your laptop via the USB or Wi-Fi network.</li>
        </ul>

        <h3>MQTT Broker (Mosquitto)</h3>
        <ul>
            <li>You've installed <strong>Mosquitto</strong>, a lightweight MQTT broker. This enables efficient, low-bandwidth, real-time messaging between your Pi and other devices (like sensors or a client on your laptop), ideal for sensor data or simple commands.</li>
        </ul>

        <h3>Obsidian Vault Hosting & Synchronization</h3>
        <ul>
            <li>The Pi is set up to <strong>host your Obsidian vault</strong> (which are just Markdown files).</li>
            <li><strong>Syncthing</strong> has been successfully implemented across four devices (including your Pi and laptop) for <strong>robust, real-time, peer-to-peer file synchronization</strong>. This ensures your Obsidian notes are always up-to-date and accessible on all connected devices, even if the Pi goes offline and reconnects later. Syncthing was chosen as the more effective solution over Samba for its superior sync capabilities in a portable setup.</li>
        </ul>

        <hr>
    </div>

</body>
</html>
